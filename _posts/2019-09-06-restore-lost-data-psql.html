---
title: PostgreSQL - 데이터 복구하기
layout: post
categories: PostgreSQL, 
status: publish
published: true
tags: postgresql, psql, rds, aws, db, sql, backup, dump, resotre
comments: true
---

<div id="outline-container-org244a78d" class="outline-2">
<h2 id="org244a78d">백업과 복구에 대해서</h2>
<div class="outline-text-2" id="text-org244a78d">
<p class="verse">
값진 데이터가 포함된 모든 PostgreSQL 데이터 베이스는 백업 되어야 한다.<br />
<br />
아래의 설명은 아마존 RDS 또는 내부 서비스에서, 중요 데이터를 날렸을 경우,<br />
백업 DB로부터 복구하는 법을 설명합니다.<br />
</p>
</div>

<div id="outline-container-org166e3c9" class="outline-3">
<h3 id="org166e3c9">백업 방법</h3>
<div class="outline-text-3" id="text-org166e3c9">
</div>
<div id="outline-container-org592405e" class="outline-4">
<h4 id="org592405e">SQL dump</h4>
<div class="outline-text-4" id="text-org592405e">
<p>
[ 필요 항목 ]
</p>
<ul class="org-ul">
<li>백업 파일</li>
<li>psql tool</li>
</ul>

<p>
#+BEGIN<sub>SRC</sub> shell
$ pg<sub>dump</sub> -U [your user here] -d [your database here] -a -t [table1] -t [table2] -h [your restored instance] -p5432 &gt; data<sub>to</sub><sub>restore.sql</sub>
#+END<sub>SRC</sub> shell
</p>

<p>
#+BEGIN<sub>SRC</sub> shell
$ psql -U [your user here] -d [your database here] -h [your prod instance] -p5432 &lt; data<sub>to</sub><sub>restore.sql</sub>
#+END<sub>SRC</sub> shell
</p>
</div>
</div>

<div id="outline-container-org1f56391" class="outline-4">
<h4 id="org1f56391">File system level backup</h4>
</div>
<div id="outline-container-org7ea0b17" class="outline-4">
<h4 id="org7ea0b17">On-line backup</h4>
<div class="outline-text-4" id="text-org7ea0b17">
<p>
merged with 'psql - 23. 백업과 복구'
</p>
</div>
</div>
</div>
</div>
